<div
  class="h-full w-full bg-[#102e4d] bg-opacity-90 text-white p-4 box-border flex flex-col justify-between gap-4 rounded-tl-2xl overflow-hidden">
  <!-- ENCABEZADO CON TÍTULO A LA IZQUIERDA Y BOTÓN A LA DERECHA -->
  <div class="  lg:max-w-[100%] flex justify-between items-center py-4 px-6 bg-white/10 rounded-xl shadow-lg flex-none">
    <h1 class=" max-w-[100%] lg:w-[100%] text-4xl font-bold text-center">Gestión de Productos</h1>
    <button class="w-[100px] px-4 py-2 rounded-lg text-white border-2 border-blue-700 bg-[#102e4d] focus:outline-none hover:ring-2 hover:ring-blue-600" (click)="exportPDF()">Reporte</button>
  </div>
  <!-- FILA PRINCIPAL: LISTA Y FORMULARIO -->
  <div class="  flex-none  gap-4  overflow-hidden w-[100%] lg:flex ">

    <!-- LISTA de inputs y -->
    <div
      class=" lg:max-w-[80%] lg:min-w-[70%] basis-2/3 bg-white/10 rounded-xl p-4 shadow-inner overflow-y-auto max-h-full flex flex-col border-2 border-blue-800 relative ">

      <div class=" fle-col justify-between lg:flex">

        <div class="flex justify-between items-center mb-4 gap-2 ">
          <input [value]="categoria()" (input)="categoria.set(txtcategoria.value)" type="text"
            placeholder="Buscar categoría..." #txtcategoria
            class="w-full px-4 py-2 rounded-lg text-white border-2 bg-[#102e4d] border-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600" />
          <button (click)="mostrarProductoWithCategoria()"
            class="px-4 py-2 rounded-lg text-white border-2 border-blue-700 bg-[#102e4d] focus:outline-none hover:ring-2 hover:ring-blue-600">
            Buscar
          </button>
        </div>


        <div class="flex justify-between items-center mb-4 gap-2">
          <input [value]="marca()" (input)="marca.set(txtmarca.value)" #txtmarca type="text"
            placeholder="Buscar marca..."
            class="w-full px-4 py-2 rounded-lg text-white border-2 bg-[#102e4d] border-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600" />
          <button (click)="mostrarProductoWithMarca()"
            class="px-4 py-2 rounded-lg text-white border-2 border-blue-700 bg-[#102e4d] focus:outline-none hover:ring-2 hover:ring-blue-600">
            Buscar
          </button>
        </div>


        <div class="flex justify-between items-center mb-4 gap-2">
          <input [value]="producto()" (input)="producto.set(txtnombre.value)" #txtnombre type="text"
            placeholder="Buscar producto..."
            class="w-full px-4 py-2 rounded-lg text-white border-2 bg-[#102e4d] border-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600" />
          <button (click)="buscarProdcutoPorNombre()"
            class="px-4 py-2 rounded-lg text-white border-2 border-blue-700 bg-[#102e4d] focus:outline-none hover:ring-2 hover:ring-blue-600">
            Buscar
          </button>
        </div>
      </div>
      <div class="flex-1">
        <producto-list-component />
      </div>
    </div>

    @if(!this.modalService.modalSingleProducto()){
    <modal-single-producto
      class="fixed  z-50 w-full h-full bg-[rgba(0,0,0,0.5)] flex justify-center items-center rounded-2xl top-0 left-0" />
    }
    @if(!this.modalService.modalActualizarproducto()){
    <formulario-actualizar_completo
      class="fixed  z-50 w-full h-full bg-[rgba(0,0,0,0.5)] flex justify-center items-center rounded-2xl top-0 left-0" />
    }

    <!-- FORMULARIO -->
    <div
      class=" max-h-[600px]  lg:max-h-[100%] lg:max-w-[30%] lg:min-w-[20%] basis-1/3 bg-white/10 rounded-xl p-4 shadow-inner flex flex-col justify-around border-2 border-blue-800 relative gap-2 overflow-y-auto ">
      <div>
        <formulario-producto-crear />
      </div>
    </div>

  </div>
  <div
    class=" invisible flex justify-around items-center h-20 bg-white/10 rounded-xl shadow-inner flex-none lg:visible">
    <div class="text-center">
      <h3 class="text-lg font-semibold">Total</h3>
      <p class="text-2xl">{{cantidadDeProductos()}}</p>
    </div>
    <div class="text-center">
      <h3 class="text-lg font-semibold">Disponibles</h3>
      <p class="text-2xl">{{cantidadDisponible()}}</p>
    </div>
    <div class="text-center">
      <h3 class="text-lg font-semibold">Agotados</h3>
      <p class="text-2xl">{{cantidadAgotados()}}</p>
    </div>
  </div>
</div>
