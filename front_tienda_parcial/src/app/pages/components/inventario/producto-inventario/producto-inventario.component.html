<div class="bg-cover bg-center bg-no-repeat shadow-lg rounded-2xl overflow-hidden flex flex-col transition-shadow duration-300
min-h-[270px] max-h-[300px] min-w-[250px] max-w-[260px] hover:shadow-xl relative text-white"
[style.backgroundImage]="'url(' + imageUrl() + ')'">
  <!-- Capa oscura semitransparente -->
  <div class="bg-black/50 w-full h-full absolute top-0 left-0 z-0"></div>

  @if(producto()?.estado=='agotado'){
    <span class="text-center text-4xl text-red-500 inline-block rotate-45 absolute top-30 left-10 z-10">AGOTADO</span>
  }

  <div class="p-4 flex-1 flex flex-col justify-between w-full z-10 relative">
    <div class="mb-2">
      <h3 class="text-center font-bold text-lg truncate whitespace-nowrap overflow-hidden">
        {{ producto()?.descripcion }}
      </h3>
      <div class="flex justify-around">
        <p class="text-sm text-center">Precio: {{ producto()?.precio }}</p>
        <p class="text-sm text-center">Costo: {{ producto()?.costo }}</p>
        <p class="text-sm text-center">Cantidad: {{ producto()?.cantidad }}</p>
      </div>
    </div>

    <div class="flex justify-around mt-auto max-w-[250px]">
      <div class="flex justify-around gap-3 w-[90%]">
        <button (click)="mostrarModal()"
          class="bg-green-600 rounded-[10px] px-[10px] py-[5px] hover:scale-[1.05] hover:bg-green-500">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
          </svg>
        </button>
        <button (click)="mostrarModal()"
          class="bg-red-600 rounded-[10px] px-[10px] py-[5px] hover:scale-[1.05] hover:bg-red-500">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
          </svg>
        </button>

        <button (click)="habilitarProducto()"
          class="bg-blue-600 rounded-[10px] px-[10px] py-[5px] hover:scale-[1.05] hover:bg-blue-500">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z" />
          </svg>
        </button>
        <button (click)="eliminarProducto()"
          class="bg-orange-600 rounded-[10px] px-[10px] py-[5px] hover:scale-[1.05] hover:bg-orange-500">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25v13.5m-7.5-13.5v13.5" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  @if(!modalCantidad()){
    <modal-cantidad
    [producto]="producto()"
    (cerrar)="mostrarModalCantidadSwitch()"
    class="absolute w-full h-full bg-[rgba(0,0,0,0.5)] flex justify-center items-center rounded-2xl z-20" />
  }
</div>
